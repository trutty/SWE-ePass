/*
* Kendo UI Beta v2013.1.226 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.view.min","./kendo.mobile.loader.min"],function(){(function(e,n){function t(n){m(e(n.currentTarget),"rel")!=p&&n.preventDefault()}function i(n){m(e(n.currentTarget),"rel")!==p&&n.preventDefault()}var o=window.kendo,a=o.mobile,r=o.roleSelector,u=a.ui,l=u.Widget,s=a.ViewEngine,d=a.ui.Loader,p="external",c="href",f="#!",h="navigate",g="viewShow",w=/popover|actionsheet|modalview/,v="#:back",m=o.attrValue,k="button backbutton detailbutton listview-link",b="tab",y=l.extend({init:function(e,n){var t=this;l.fn.init.call(t,e,n),e=t.element,e.addClass("km-pane"),t.loader=new d(e,{loading:t.options.loading}),t.viewEngine=new s({container:e,transition:t.options.transition,layout:t.options.layout,loader:t.loader}),t.viewEngine.bind(g,function(e){t.trigger(g,e)}),t.history=[],t._setupAppLinks()},options:{name:"Pane",transition:"",layout:"",loading:n},events:[h,g],destroy:function(){l.fn.destroy.call(this),o.destroy(this.element)},navigate:function(e,n){var t=this,i=t.history;e===v?(i.pop(),e=i[i.length-1]):t.history.push(e),t.trigger(h,{url:e}),t.viewEngine.showView(e,n)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){this.element.handler(this).on("down",r(b),"_mouseup").on("up",r(k),"_mouseup").on("click",r(b+" "+k),t).on("touchstart",r(k),i).on("touchstart",".km-popup .k-item",o.preventDefault)},_mouseup:function(t){if(!(t.which>1||t.isDefaultPrevented())){var i=e(t.currentTarget),r=m(i,"transition"),l=m(i,"rel")||"",s=m(i,"target"),d=this,h=i.attr(c);l!==p&&h!==n&&h!==f&&(i.attr(c,f),setTimeout(function(){i.attr(c,h)}),l.match(w)?(o.widgetInstance(e(h),u).openFor(i),t.stopPropagation()):("_top"===s?d=a.application.pane:s&&(d=e("#"+s).data("kendoMobilePane")),d.navigate(h,r)),t.preventDefault())}}});u.plugin(y)})(window.kendo.jQuery)});